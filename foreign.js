(function () {
    'use strict';

    Lampa.Platform.tv();

    (function () {
        function initPlugin() {
            if (window.plugin_inter_movie_ready) return;
            window.plugin_inter_movie_ready = true;

            function addMenuItem() {
                // Защита от дублирования
                if ($('.menu__item[data-action="inter_movie"]').length > 0) return;

                var menuIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 16 16"><g fill="currentColor"><path d="M2 3a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 0-1h-11A.5.5 0 0 0 2 3m2-2a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7A.5.5 0 0 0 4 1m2.765 5.576A.5.5 0 0 0 6 7v5a.5.5 0 0 0 .765.424l4-2.5a.5.5 0 0 0 0-.848z"/><path d="M1.5 14.5A1.5 1.5 0 0 1 0 13V6a1.5 1.5 0 0 1 1.5-1.5h13A1.5 1.5 0 0 1 16 6v7a1.5 1.5 0 0 1-1.5 1.5zm13-1a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5h-13A.5.5 0 0 0 1 6v7a.5.5 0 0 0 .5.5z"/></g></svg>';

                var $menuItem = $(
                    '<li class="menu__item selector" data-action="inter_movie">' +
                    '<div class="menu__ico">' + menuIcon + '</div>' +
                    '<div class="menu__text">Зарубежное</div>' +
                    '</li>'
                );

                var doramy = '<div class="settings-folder" style="padding:0!important"><div style="width:2.2em;height:1.7em;padding-right:.5em"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 512 512"><path fill="currentColor" d="M418.813 30.625c-21.178 26.27-49.712 50.982-84.125 70.844c-36.778 21.225-75.064 33.62-110.313 38.06a310 310 0 0 0 6.813 18.25c16.01.277 29.366-.434 36.406-1.5l9.47-1.53l8.436-1.28l.22 10.186a308 308 0 0 1-1.095 18.72l56.625 8.843q1.289-.145 2.563-.157c11.188-.114 21.44 7.29 24.468 18.593c.657 2.448.922 4.903.845 7.313c5.972-2.075 11.753-4.305 17.28-6.72l9.595-4.188l2.313 10.22a340 340 0 0 1 7.375 48.062C438.29 247.836 468.438 225.71 493 197.5c-3.22-36.73-16.154-78.04-39.125-117.813a291 291 0 0 0-2.22-3.78l-27.56 71.374c5.154.762 10.123 3.158 14.092 7.126c9.81 9.807 9.813 25.69 0 35.5c-9.812 9.81-25.722 9.807-35.53 0c-8.86-8.858-9.69-22.68-2.532-32.5l38.938-100.844a322 322 0 0 0-20.25-25.937zM51.842 118.72c-8.46 17.373-15.76 36.198-21.187 56.436c-14.108 52.617-13.96 103.682-2.812 143.438c13.3-2.605 26.442-3.96 39.312-4.03c1.855-.012 3.688.02 5.53.06c20.857.48 40.98 4.332 59.97 11.5a355 355 0 0 1-1.656-34.218c0-27.8 3.135-54.377 9-78.937l2.47-10.407l9.655 4.562c29.467 13.98 66.194 23.424 106.28 25.22c5.136-20.05 8.19-39.78 9.408-58.75c-35.198 4.83-75.387 2.766-116.407-8.22c-38.363-10.272-72.314-26.78-99.562-46.656zm230.594 82.218c-1.535 10.452-3.615 21.03-6.218 31.687a313 313 0 0 0 46-3.97a24.98 24.98 0 0 1-1.532-21.748zM105 201.375l4.156 18.22l-21.594 4.905c8.75 5.174 13.353 15.703 10.594 26c-3.32 12.394-16.045 19.758-28.437 16.438c-12.394-3.32-19.76-16.075-16.44-28.47a23.2 23.2 0 0 1 3.126-6.874l-21.062 4.78l-4.125-18.218l73.78-16.78zm388.594 22.813c-25.53 25.46-55.306 45.445-86.906 60.5c.05 2.397.093 4.8.093 7.218c0 9.188-.354 18.232-1.03 27.125c16.635 1.33 32.045-1.7 45.344-9.374c25.925-14.962 40.608-45.694 42.5-85.47zm-338.844 3c-4.03 19.993-6.33 41.31-6.406 63.593l.125-.342c30.568 10.174 62.622 17.572 95.25 21.375l7.5.875l.718 7.5l5.687 60.125l-18.625 1.75l-2.53-26.75a23.1 23.1 0 0 1-14.845.968c-12.393-3.32-19.76-16.042-16.438-28.436c.285-1.06.647-2.08 1.063-3.063a497 497 0 0 1-57.406-14.53c2.69 49.62 16.154 94.04 36.094 126.656c22.366 36.588 52.13 57.78 83.968 57.78c31.838.003 61.602-21.19 83.97-57.78c19.536-31.96 32.846-75.244 35.905-123.656a499 499 0 0 1-48.25 11.656c1.914 4.57 2.415 9.78 1.033 14.938c-3.322 12.394-16.045 19.758-28.438 16.437a23 23 0 0 1-2.125-.686l-2.5 26.47l-18.594-1.752l5.688-60.125l.72-7.5l7.498-.875c29.245-3.407 57.995-9.717 85.657-18.312v-1.594c0-21.573-2.27-42.23-6.064-61.75C351.132 242.653 313.092 250 272.312 250c-43.59 0-83.986-8.658-117.562-22.813zm-87.5 105.968c-10.87.102-21.995 1.22-33.375 3.313c12.695 31.62 33.117 53.07 59 60c16.9 4.523 34.896 2.536 52.813-5.25c-4.382-13.89-7.874-28.606-10.344-43.97c-21.115-9.623-43.934-14.32-68.094-14.094zm137.5 80.22h130.813c-40.082 44.594-92.623 42.844-130.813 0"/></svg></div><div style="font-size:1.3em">Дорамы</div></div>';

                var turkish = '<div class="settings-folder" style="padding:0!important"><div style="width:2.2em;height:1.7em;padding-right:.5em"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><path fill="currentColor" d="M32 2C15.432 2 2 15.432 2 32s13.432 30 30 30s30-13.432 30-30S48.568 2 32 2m-3.117 15.25c4.381 0 8.311 1.955 10.984 5.049a11.53 11.53 0 0 0-6.638-2.099c-6.444 0-11.668 5.283-11.668 11.8s5.224 11.8 11.668 11.8c2.466 0 4.753-.775 6.638-2.097c-2.674 3.092-6.604 5.047-10.984 5.047C20.828 46.75 14.3 40.147 14.3 32s6.528-14.75 14.583-14.75M49.7 36.254l-5.263-1.638l-3.246 4.268l.012-5.267L35.934 32l5.27-1.617l-.012-5.266l3.246 4.267l5.263-1.638L46.436 32z"/></svg></div><div style="font-size:1.3em">Турецкие сериалы</div></div>';

                var indian = '<div class="settings-folder" style="padding:0!important"><div style="width:2.2em;height:1.7em;padding-right:.5em"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 48 48"><circle cx="24" cy="24" r="7.5" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/><circle cx="24" cy="24" r="1.697" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M24 22.303v-5.799m1.2 6.296l4.1-4.1M25.697 24h5.799M25.2 25.2l4.1 4.1M24 25.697v5.799M22.8 25.2l-4.1 4.1m3.603-5.3h-5.799m6.296-1.2l-4.1-4.1m5.739 3.661l1.501-5.601m-.471 6.392l5.022-2.9m-4.852 4.187l5.601 1.501m-6.392-.471l2.9 5.022m-4.187-4.852L22.06 31.24m.471-6.392l-5.022 2.9m4.852-4.187L16.76 22.06m6.392.471l-2.9-5.022m4.596 5.022l2.9-5.022m-2.109 6.052l5.601-1.501m-5.771 2.788l5.022 2.9m-6.052-2.109l1.501 5.601m-2.788-5.771l-2.9 5.022m2.109-6.052L16.76 25.94m5.771-2.788l-5.022-2.9m6.052 2.109L22.06 16.76"/><circle cx="24" cy="24" r="21.5" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M43.29 14.5H4.71m38.58 19H4.71"/></svg></div><div style="font-size:1.3em">Индийские фильмы</div></div>';

                var netflix = '<div class="settings-folder" style="padding:0!important"><div style="width:2.2em;height:1.7em;padding-right:.5em"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24"><path fill="currentColor" d="M4.75 14.39c-.3.054-.607.07-.924.113L2.86 11.63v2.996c-.3.033-.575.076-.86.119v-5.49h.802L3.9 12.37V9.255h.85zm1.663-3.125c.327 0 .829-.016 1.13-.016v.858c-.375 0-.814 0-1.13.016v1.276c.496-.032.992-.075 1.494-.091v.825l-2.339.188V9.255h2.339v.858H6.413zm4.634-1.152h-.876v3.945c-.285 0-.57 0-.844.011v-3.956H8.45v-.858h2.597zm1.373 1.093h1.156v.858H12.42v1.946h-.83V9.255h2.36v.858h-1.53zm2.903 2.053c.48.011.966.049 1.436.075v.848a53 53 0 0 0-2.28-.113V9.255h.844zm2.148.982c.27.016.554.032.829.064v-5.05h-.829zM22 9.255l-1.072 2.61L22 14.746c-.317-.043-.633-.102-.95-.156l-.607-1.587l-.618 1.458c-.306-.053-.601-.07-.907-.112l1.087-2.514l-.982-2.58h.908l.554 1.443l.591-1.442z"/></svg></div><div style="font-size:1.3em">Netflix</div></div>';

                var apple = '<div class="settings-folder" style="padding:0!important"><div style="width:2.2em;height:1.7em;padding-right:.5em"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24"><path fill="currentColor" d="M7.189 6.9s-.932.005-1.602.888c-.596.785-.444 1.457-.444 1.457s.808.14 1.519-.714c.666-.8.527-1.63.527-1.63m4.47.615V9.83h-.939v1.403h.94v4.098c0 1.089.64 1.756 1.851 1.756q.586 0 1.117-.163q.53-.164.898-.327l-.367-1.443c-.11.045-.613.258-.994.258c-.402 0-.68-.2-.68-.694v-3.485h1.497V9.829h-1.498V7.515zM7.047 9.353c-.833 0-1.473.474-1.818.474c-.401 0-1-.446-1.773-.446C2.267 9.381 1 10.445 1 12.474c0 2.06 1.496 4.626 2.68 4.626c.413 0 1.048-.417 1.688-.417c.628 0 1.091.401 1.687.401c1.298 0 2.258-2.703 2.258-2.703s-1.374-.532-1.374-2.076c0-1.368 1.103-1.932 1.103-1.932s-.564-1.02-1.998-1.02m8.725.476l2.628 7.134h1.974L23 9.83h-1.715l-1.824 5.65l-1.811-5.65z"/></svg></div><div style="font-size:1.3em">Apple TV+</div></div>';

                var prime = '<div class="settings-folder" style="padding:0!important"><div style="width:2.2em;height:1.7em;padding-right:.5em"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24"><path fill="currentColor" d="M20.182 5.404a4 4 0 0 0 .625.05a1.1 1.1 0 0 0 .342-.03a.47.47 0 0 0 .404-.306a.6.6 0 0 0 .015-.276a.4.4 0 0 0-.243-.334a.9.9 0 0 0-.281-.064a.79.79 0 0 0-.833.499a1.4 1.4 0 0 0-.102.367c-.006.088-.006.088.073.094m-1.074-.4a1.81 1.81 0 0 1 1.633-1.359a2.4 2.4 0 0 1 1.057.102c.655.224 1.009.932.794 1.59a1 1 0 0 1-.489.588a2 2 0 0 1-.66.211a3.5 3.5 0 0 1-1.207-.016a1 1 0 0 0-.146-.023a.88.88 0 0 0 .716.954a2.6 2.6 0 0 0 .995 0c.154-.033.302-.065.456-.102s.218.012.218.17v.392a.24.24 0 0 1-.18.26a3 3 0 0 1-.626.17a3.3 3.3 0 0 1-1.214-.01a1.66 1.66 0 0 1-1.36-1.272a2.94 2.94 0 0 1 .016-1.656zm.317 6.367a2.6 2.6 0 0 1 1.012.039a1.94 1.94 0 0 1 1.41 1.635v.011h-.014v.1a.08.08 0 0 0 .024.08v-.021l.007.01v.61l-.012.021v-.01c-.03.02-.02.047-.02.08V14c-.048.9-.747 1.63-1.644 1.717a2.6 2.6 0 0 1-.998-.052a1.7 1.7 0 0 1-1.246-1.114a2.83 2.83 0 0 1 0-2.005c.219-.65.8-1.11 1.482-1.175zM12 3.946q0-.065.016-.127a.16.16 0 0 1 .147-.102h.67a.19.19 0 0 1 .184.147c.028.075.044.147.07.223c.053 0 .086-.036.122-.057a2.7 2.7 0 0 1 .946-.398a2 2 0 0 1 .795 0c.25.054.47.202.615.413l.03.038v.014c.132-.079.271-.164.415-.237a2.4 2.4 0 0 1 1.203-.266a1.06 1.06 0 0 1 1.095 1.027v2.964c0 .238-.03.27-.27.27h-.647a1 1 0 0 1-.126 0a.15.15 0 0 1-.128-.122a1 1 0 0 1-.01-.175V5.101a1 1 0 0 0-.033-.293a.4.4 0 0 0-.36-.294a1.86 1.86 0 0 0-.912.176a.09.09 0 0 0-.063.096v2.788a1 1 0 0 1-.01.155c0 .07-.058.127-.128.127h-.81c-.197 0-.24-.047-.24-.243V5.1a1.2 1.2 0 0 0-.026-.276a.4.4 0 0 0-.371-.318a1.9 1.9 0 0 0-.928.18a.085.085 0 0 0-.059.103v2.833c0 .195-.044.236-.239.236h-.704c-.188 0-.235-.053-.235-.232zm2.71 9.92a.2.2 0 0 0-.074-.011a2 2 0 0 0 .057.324c.08.337.358.59.7.636a2.7 2.7 0 0 0 1.088-.037a7 7 0 0 0 .345-.085c.154-.037.223.023.223.17v.385a.235.235 0 0 1-.19.271a3.4 3.4 0 0 1-1.141.217a3 3 0 0 1-.796-.079a1.63 1.63 0 0 1-1.215-1.136a2.95 2.95 0 0 1-.02-1.776a1.85 1.85 0 0 1 1.838-1.363a2.4 2.4 0 0 1 .792.101c.44.123.775.48.868.928a1.5 1.5 0 0 1 0 .587a.98.98 0 0 1-.535.704a2.2 2.2 0 0 1-.891.23a4.2 4.2 0 0 1-1.055-.067zm-3.133-2.202c.027-.037.012-.075.012-.112V9.847c0-.202.037-.238.238-.238h.734c.161.006.207.044.207.208v5.586c0 .147-.049.201-.196.201h-.69a.19.19 0 0 1-.186-.146a.8.8 0 0 0-.057-.185c-.048.008-.069.045-.107.067a1.71 1.71 0 0 1-1.615.276A1.53 1.53 0 0 1 9 14.804a2.5 2.5 0 0 1-.266-1.13a3 3 0 0 1 .187-1.225a1.66 1.66 0 0 1 .826-.945c.552-.263 1.2-.22 1.713.111a.3.3 0 0 0 .117.059zm-.797-3.817h-.733a.3.3 0 0 1-.075 0a.147.147 0 0 1-.147-.137V3.893c0-.127.054-.176.18-.18a20 20 0 0 1 .828 0c.122 0 .159.037.17.158v3.67a1 1 0 0 1-.01.176a.134.134 0 0 1-.128.12h-.089zm-1.045-5.45a.616.616 0 0 1 .642-.586h.064a.7.7 0 0 1 .248.036a.6.6 0 0 1 .411.67a.59.59 0 0 1-.506.534a1 1 0 0 1-.355 0a.587.587 0 0 1-.504-.66Zm-3.092 5.2V3.983c0-.244.026-.27.27-.27h.51a.21.21 0 0 1 .238.179c.037.132.07.264.1.408a.16.16 0 0 0 .091-.065a4 4 0 0 1 .303-.27a1.4 1.4 0 0 1 .964-.293c.138 0 .186.048.197.18c.01.18 0 .367 0 .546a1 1 0 0 1-.012.22a.147.147 0 0 1-.147.146a2 2 0 0 1-.22 0a2.5 2.5 0 0 0-1.027.147c-.074.026-.074.079-.074.138v2.678a.13.13 0 0 1-.128.122a1 1 0 0 1-.132 0v.01h-.69a1 1 0 0 1-.117 0a.15.15 0 0 1-.126-.132zm.904 3.228a.6.6 0 0 1-.192 0a1 1 0 0 1-.176-.02a.6.6 0 0 1-.466-.7a.587.587 0 0 1 .567-.536a.5.5 0 0 1 .111 0a.64.64 0 0 1 .313.054c.208.078.35.272.361.494a.624.624 0 0 1-.518.716zm.44.855v3.764a.147.147 0 0 1-.133.159h-.88a.147.147 0 0 1-.162-.128v-.026a1 1 0 0 1 0-.1v-3.67c0-.164.045-.21.21-.21h.751c.164.007.211.054.211.218zm-1.711.047l-.317.844l-1.067 2.774c-.01.032-.027.063-.037.095a.26.26 0 0 1-.265.175h-.702a.294.294 0 0 1-.318-.218c-.133-.349-.27-.704-.403-1.055c-.318-.832-.641-1.666-.96-2.504a1 1 0 0 1-.069-.207c-.016-.105.021-.158.128-.158h.901c.128 0 .185.085.218.196c.058.201.117.408.18.61c.217.733.43 1.479.646 2.217h.01l.096-.308l.733-2.46l.031-.095a.214.214 0 0 1 .213-.147h.812c.2-.003.243.054.176.245zM1.786 3.82a.38.38 0 0 1 .318-.107h.488a.21.21 0 0 1 .234.18q.013.08.037.16a.02.02 0 0 0 .02.015a.4.4 0 0 0 .11-.08a1.87 1.87 0 0 1 1.586-.354c.48.115.874.454 1.061.91a2.5 2.5 0 0 1 .205.798h-.008c.051.444.011.893-.118 1.321a1.94 1.94 0 0 1-.55.88c-.34.306-.795.448-1.248.388A1.8 1.8 0 0 1 3 7.564c-.039.033-.022.074-.022.113v1.506c0 .329 0 .329-.334.329h-.572a.29.29 0 0 1-.294-.126Zm19.37 15.225a.6.6 0 0 1-.176.2a11.6 11.6 0 0 1-1.962 1.247a15.5 15.5 0 0 1-4.152 1.406a18 18 0 0 1-2.51.27v.022h-.649v-.018c-.293-.014-.578-.026-.868-.047a15.4 15.4 0 0 1-2.296-.352a15.56 15.56 0 0 1-6.885-3.59c-.185-.164-.36-.333-.54-.503a.4.4 0 0 1-.101-.146a.195.195 0 0 1 .098-.256a.2.2 0 0 1 .147 0a1 1 0 0 1 .138.069a20.6 20.6 0 0 0 6.164 2.546a22 22 0 0 0 2.212.398a20.4 20.4 0 0 0 3.213.146a17 17 0 0 0 1.724-.146a21 21 0 0 0 3.935-.896a19 19 0 0 0 1.973-.776a.44.44 0 0 1 .318-.043a.33.33 0 0 1 .24.398l-.022.066zm1.028 1.488a3.6 3.6 0 0 1-.615.757a.4.4 0 0 1-.17.107a.123.123 0 0 1-.169-.124a.6.6 0 0 1 .038-.162c.185-.496.366-.99.51-1.504a5.4 5.4 0 0 0 .18-.859a1.7 1.7 0 0 0 0-.318a.41.41 0 0 0-.294-.388a2 2 0 0 0-.509-.095a8.4 8.4 0 0 0-1.459.064l-.641.08c-.07 0-.132 0-.17-.065a.18.18 0 0 1 .014-.19a.6.6 0 0 1 .162-.148a3.7 3.7 0 0 1 1.299-.562a6.4 6.4 0 0 1 1.097-.121q.52.002 1.028.121a1.5 1.5 0 0 1 .276.102c.121.05.206.162.219.293a2 2 0 0 1 .014.455a5.86 5.86 0 0 1-.806 2.55zm-2.55-5.72a1 1 0 0 0 .301.01a.7.7 0 0 0 .505-.293a1 1 0 0 0 .147-.308l-.009.014a1.9 1.9 0 0 0 .074-.678a3 3 0 0 0 0-.293a1.6 1.6 0 0 0-.147-.6a.69.69 0 0 0-.483-.376a.9.9 0 0 0-.302-.01a.7.7 0 0 0-.542.328a1.2 1.2 0 0 0-.147.35a2.9 2.9 0 0 0-.042.933a1.5 1.5 0 0 0 .147.525a.68.68 0 0 0 .497.397zm-3.523-1.96a.473.473 0 0 0-.394-.64c-.026 0-.047-.01-.073-.01a.8.8 0 0 0-.775.302a1.3 1.3 0 0 0-.211.578c-.015.047.01.069.058.073a5 5 0 0 0 .642.053q.165.009.328-.026a.465.465 0 0 0 .425-.33m-5.981-.255a1.2 1.2 0 0 0-.106.26a2.7 2.7 0 0 0-.065.997a1.5 1.5 0 0 0 .147.536a.73.73 0 0 0 .568.391a1.3 1.3 0 0 0 .832-.158a.15.15 0 0 0 .086-.147v-.966h.007c0-.323-.01-.641 0-.968a.15.15 0 0 0-.096-.156a1.6 1.6 0 0 0-.817-.147a.68.68 0 0 0-.556.358M3.855 7.051a.75.75 0 0 0 .488-.188a.8.8 0 0 0 .243-.425a2.7 2.7 0 0 0 .065-1.002a1.5 1.5 0 0 0-.135-.54a.65.65 0 0 0-.505-.382a1.44 1.44 0 0 0-.912.137a.16.16 0 0 0-.105.164v1.917a.15.15 0 0 0 .09.147a1.47 1.47 0 0 0 .771.17"/></svg></div><div style="font-size:1.3em">Prime Video</div></div>';

                var mgm = '<div class="settings-folder" style="padding:0!important"><div style="width:2.2em;height:1.7em;padding-right:.5em"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 48 48"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M43.5 35.5v-23a4 4 0 0 0-4-4h-31a4 4 0 0 0-4 4v23a4 4 0 0 0 4 4h31a4 4 0 0 0 4-4"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M38.6 22.004v4m-2-2h4m-15.07 3.99v-8l4 8l4-7.98v7.99m-10.41-5.35a2.65 2.65 0 1 0-5.3 0v2.7a2.65 2.65 0 0 0 5.3.003v-.003h-2.65M7.4 27.994v-8l4 8l4-7.98v7.99"/></svg></div><div style="font-size:1.3em">MGM+</div></div>';

                var hbo = '<div class="settings-folder" style="padding:0!important"><div style="width:2.2em;height:1.7em;padding-right:.5em"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24"><path fill="currentColor" d="M7.042 16.896H4.414v-3.754H2.708v3.754H.01L0 7.22h2.708v3.6h1.706v-3.6h2.628zm12.043.046C21.795 16.94 24 14.689 24 11.978a4.89 4.89 0 0 0-4.915-4.92c-2.707-.002-4.09 1.991-4.432 2.795c.003-1.207-1.187-2.632-2.58-2.634H7.59v9.674l4.181.001c1.686 0 2.886-1.46 2.888-2.713c.385.788 1.72 2.762 4.427 2.76zm-7.665-3.936c.387 0 .692.382.692.817s-.305.817-.692.817h-1.33v-1.634zm.005-3.633c.387 0 .692.382.692.817c0 .436-.305.818-.692.818h-1.33V9.373zm1.77 2.607c.305-.039.813-.387.992-.61c-.063.276-.068 1.074.006 1.35c-.204-.314-.688-.701-.998-.74m3.43 0a2.462 2.462 0 1 1 4.924 0a2.462 2.462 0 0 1-4.925 0zm2.462 1.936a1.936 1.936 0 1 0 0-3.872a1.936 1.936 0 0 0 0 3.872"/></svg></div><div style="font-size:1.3em">HBO</div></div>';

                $menuItem.on('hover:enter', function () {
                    var items = [
                        { title: doramy },
                        { title: turkish },
                        { title: indian },
                        { title: netflix },
                        { title: apple },
                        { title: prime },
                        { title: mgm },
                        { title: hbo }
                    ];

                    Lampa.Select.show({
                        title: Lampa.Lang.translate('settings_rest_source') || 'Зарубежное',
                        items: items,
                        onSelect: function (item) {
                            if (item.title.includes('Дорамы')) {
                                Lampa.Activity.push({
                                    url: 'discover/tv?first_air_date.lte=2025-12-31&first_air_date.gte=2020-01-01&without_genres=16&with_original_language=ko',
                                    title: 'Дорамы',
                                    component: 'category_full',
                                    source: 'tmdb',
                                    card_type: 'true',
                                    page: 1
                                });
                            } else if (item.title.includes('Турецкие сериалы')) {
                                Lampa.Activity.push({
                                    url: 'discover/tv?first_air_date.lte=2025-12-31&first_air_date.gte=2020-01-01&without_genres=16&with_original_language=tr',
                                    title: 'Турецкие сериалы',
                                    component: 'category_full',
                                    source: 'tmdb',
                                    card_type: 'true',
                                    page: 1
                                });
                            } else if (item.title.includes('Индийские фильмы')) {
                                Lampa.Activity.push({
                                    url: 'discover/movie?primary_release_date.lte=2025-12-31&primary_release_date.gte=2020-01-01&without_genres=16&with_original_language=hi',
                                    title: 'Индийские фильмы',
                                    component: 'category_full',
                                    source: 'tmdb',
                                    card_type: 'true',
                                    page: 1
                                });
                            } else if (item.title.includes('Netflix')) {
                                Lampa.Activity.push({
                                    url: 'discover/tv?first_air_date.lte=2025-12-31&first_air_date.gte=2020-01-01',
                                    title: 'Netflix',
                                    networks: '213',
                                    component: 'category_full',
                                    source: 'tmdb',
                                    card_type: 'true',
                                    page: 1
                                });
                            } else if (item.title.includes('Apple TV+')) {
                                Lampa.Activity.push({
                                    url: 'discover/tv?first_air_date.lte=2025-12-31&first_air_date.gte=2020-01-01',
                                    title: 'Apple TV+',
                                    networks: '2552',
                                    component: 'category_full',
                                    source: 'tmdb',
                                    card_type: 'true',
                                    page: 1
                                });
                            } else if (item.title.includes('Prime Video')) {
                                Lampa.Activity.push({
                                    url: 'discover/tv?first_air_date.lte=2025-12-31&first_air_date.gte=2020-01-01',
                                    title: 'Prime Video',
                                    networks: '1024',
                                    component: 'category_full',
                                    source: 'tmdb',
                                    card_type: 'true',
                                    page: 1
                                });
                            } else if (item.title.includes('MGM+')) {
                                Lampa.Activity.push({
                                    url: 'discover/tv?first_air_date.lte=2025-12-31&first_air_date.gte=2020-01-01',
                                    title: 'MGM+',
                                    networks: '6219',
                                    component: 'category_full',
                                    source: 'tmdb',
                                    card_type: 'true',
                                    page: 1
                                });
                            } else if (item.title.includes('HBO')) {
                                Lampa.Activity.push({
                                    url: 'discover/tv?first_air_date.lte=2025-12-31&first_air_date.gte=2020-01-01',
                                    title: 'HBO',
                                    networks: '49',
                                    component: 'category_full',
                                    source: 'tmdb',
                                    card_type: 'true',
                                    page: 1
                                });
                            }
                        },
                        onBack: function () {
                            Lampa.Controller.toggle('menu');
                        }
                    });
                });

                var menuLists = $('.menu .menu__list');
                if (menuLists.length > 0) {
                    menuLists.each(function () {
                        $(this).append($menuItem.clone(true));
                    });
                }
            }

            function tryAddMenu() {
                if (typeof $ !== 'undefined' && $('.menu .menu__list').length > 0) {
                    addMenuItem();
                } else {
                    setTimeout(tryAddMenu, 200);
                }
            }

            tryAddMenu();
        }

        if (window.appready) {
            initPlugin();
        } else {
            var listener = Lampa.Listener || (Lampa.Events && Lampa.Events.on);
            if (listener && typeof listener.follow === 'function') {
                listener.follow('app', function (e) {
                    if (e.type === 'ready') initPlugin();
                });
            } else if (listener && typeof listener.on === 'function') {
                listener.on('ready', initPlugin);
            } else {
                setTimeout(initPlugin, 500);
            }
        }
    })();
})();
